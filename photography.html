<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bozzani Vision - Photography</title>
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --burnt-orange: #d4521e;
            --desert-tan: #c4a57b;
            --off-white: #f5f5f0;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: #1a1a1a;
            color: var(--off-white);
        }

        nav {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            z-index: 1000;
            background: rgba(26,26,26,0.95);
            backdrop-filter: blur(10px);
            padding: 1.5rem 3rem;
        }

        .nav-content {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .back-link {
            color: var(--desert-tan);
            text-decoration: none;
            font-size: 0.9rem;
            letter-spacing: 0.1em;
            text-transform: uppercase;
            transition: color 0.3s;
        }

        .back-link:hover {
            color: var(--burnt-orange);
        }

        .page-title {
            font-family: 'Bebas Neue', sans-serif;
            font-size: 1.5rem;
            letter-spacing: 0.1em;
        }

        main {
            padding: 8rem 2rem 4rem;
            max-width: 1400px;
            margin: 0 auto;
        }

        .section-header {
            text-align: center;
            margin-bottom: 4rem;
        }

        .section-header h1 {
            font-family: 'Bebas Neue', sans-serif;
            font-size: clamp(3rem, 6vw, 5rem);
            letter-spacing: 0.08em;
            margin-bottom: 1rem;
        }

        .section-header p {
            color: var(--desert-tan);
            font-size: 1.1rem;
            max-width: 700px;
            margin: 0 auto;
            line-height: 1.8;
        }

        .category-section {
            margin-bottom: 4rem;
        }

        .category-section:last-child {
            margin-bottom: 0;
        }

        .category-section.is-hidden {
            display: none;
        }

        #all-photos-wrap {
            margin-bottom: 0;
        }

        #all-photos-wrap.is-hidden {
            display: none !important;
        }

        .filter-bar {
            display: flex;
            justify-content: center;
            gap: 0.5rem;
            margin-bottom: 3rem;
            flex-wrap: wrap;
        }

        .filter-btn {
            font-family: 'Bebas Neue', sans-serif;
            font-size: 1.1rem;
            letter-spacing: 0.12em;
            padding: 0.6rem 1.25rem;
            background: transparent;
            border: 1px solid rgba(196, 165, 123, 0.4);
            color: var(--desert-tan);
            cursor: pointer;
            border-radius: 4px;
            transition: color 0.2s, border-color 0.2s, background 0.2s;
        }

        .filter-btn:hover {
            color: var(--off-white);
            border-color: var(--desert-tan);
        }

        .filter-btn.is-active {
            background: var(--burnt-orange);
            border-color: var(--burnt-orange);
            color: var(--off-white);
        }

        .category-heading {
            font-family: 'Bebas Neue', sans-serif;
            font-size: 1.75rem;
            letter-spacing: 0.15em;
            color: var(--desert-tan);
            margin-bottom: 1.5rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid rgba(196, 165, 123, 0.3);
        }

        .photo-grid {
            display: flex;
            gap: 1.5rem;
            align-items: flex-start;
        }

        .photo-grid-col {
            flex: 1;
            min-width: 0;
            overflow-y: auto;
            max-height: calc(100vh - 14rem);
            scrollbar-width: none;
            -ms-overflow-style: none;
        }

        .photo-grid-col::-webkit-scrollbar {
            display: none;
        }

        .photo-item {
            margin-bottom: 1.5rem;
            position: relative;
            overflow: hidden;
            border-radius: 4px;
            cursor: pointer;
            min-height: 180px;
            background: #252525;
        }

        .photo-item-skeleton {
            position: absolute;
            inset: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(110deg, #252525 25%, #2a2a2a 50%, #252525 75%);
            background-size: 200% 100%;
            animation: skeleton-shine 1.5s ease-in-out infinite;
        }

        .photo-item.is-loaded .photo-item-skeleton {
            display: none;
        }

        .photo-item-skeleton img {
            width: 120px;
            height: 120px;
            object-fit: contain;
            opacity: 0.9;
            filter: brightness(1.4);
        }

        @keyframes skeleton-shine {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }

        .photo-item > img {
            width: 100%;
            height: auto;
            display: block;
            vertical-align: bottom;
            transition: transform 0.4s ease, opacity 0.3s ease;
            opacity: 0;
        }

        .photo-item.is-loaded > img {
            opacity: 1;
        }

        .photo-item:hover > img {
            transform: scale(1.02);
        }

        /* Lightbox */
        .lightbox {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.95);
            z-index: 2000;
            display: none;
            align-items: center;
            justify-content: center;
            padding: 2rem;
        }

        .lightbox.is-open {
            display: flex;
        }

        .lightbox-backdrop {
            position: absolute;
            inset: 0;
            cursor: pointer;
        }

        .lightbox-content {
            position: relative;
            z-index: 1;
            max-width: 90vw;
            max-height: 90vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .lightbox-content img {
            max-width: 100%;
            max-height: 85vh;
            width: auto;
            height: auto;
            object-fit: contain;
        }

        .lightbox-btn {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 3rem;
            height: 3rem;
            border: none;
            background: rgba(212, 82, 30, 0.9);
            color: var(--off-white);
            font-size: 1.5rem;
            cursor: pointer;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.2s;
            z-index: 2;
        }

        .lightbox-btn:hover {
            background: var(--burnt-orange);
        }

        .lightbox-btn.prev {
            left: 1.5rem;
        }

        .lightbox-btn.next {
            right: 1.5rem;
        }

        .lightbox-close {
            position: absolute;
            top: 1.5rem;
            right: 1.5rem;
            width: 2.5rem;
            height: 2.5rem;
            border: none;
            background: rgba(255,255,255,0.1);
            color: var(--off-white);
            font-size: 1.5rem;
            cursor: pointer;
            border-radius: 4px;
            z-index: 2;
            transition: background 0.2s;
        }

        .lightbox-close:hover {
            background: rgba(255,255,255,0.2);
        }

        #client-wrap {
            display: none;
            margin-bottom: 0;
        }

        #client-wrap.is-visible {
            display: block;
        }

        .client-access {
            max-width: 420px;
            margin: 0 auto 3rem;
            padding: 2.5rem;
            background: rgba(42,42,42,0.8);
            border: 1px solid rgba(196, 165, 123, 0.3);
            border-radius: 8px;
        }

        .client-access h2 {
            font-family: 'Bebas Neue', sans-serif;
            font-size: 1.5rem;
            letter-spacing: 0.12em;
            color: var(--desert-tan);
            margin-bottom: 1.25rem;
        }

        .client-access label {
            display: block;
            font-size: 0.85rem;
            color: var(--desert-tan);
            margin-bottom: 0.5rem;
            letter-spacing: 0.05em;
        }

        .client-access input[type="text"],
        .client-access input[type="password"] {
            width: 100%;
            padding: 0.75rem 1rem;
            margin-bottom: 1rem;
            background: #1a1a1a;
            border: 1px solid rgba(196, 165, 123, 0.4);
            border-radius: 4px;
            color: var(--off-white);
            font-family: inherit;
            font-size: 1rem;
        }

        .client-access input:focus {
            outline: none;
            border-color: var(--burnt-orange);
        }

        .client-access .client-submit {
            font-family: 'Bebas Neue', sans-serif;
            font-size: 1rem;
            letter-spacing: 0.12em;
            padding: 0.6rem 1.5rem;
            background: var(--burnt-orange);
            border: none;
            color: var(--off-white);
            cursor: pointer;
            border-radius: 4px;
            transition: background 0.2s;
        }

        .client-access .client-submit:hover {
            background: #b84518;
        }

        .client-error {
            margin-top: 1rem;
            padding: 0.75rem;
            background: rgba(212, 82, 30, 0.2);
            border: 1px solid var(--burnt-orange);
            border-radius: 4px;
            color: var(--off-white);
            font-size: 0.9rem;
            display: none;
        }

        .client-error.is-visible {
            display: block;
        }

        .client-gallery-header {
            display: flex;
            flex-wrap: wrap;
            align-items: center;
            justify-content: space-between;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .client-gallery-header h2 {
            font-family: 'Bebas Neue', sans-serif;
            font-size: 1.75rem;
            letter-spacing: 0.15em;
            color: var(--desert-tan);
        }

        .client-download-all {
            font-family: 'Bebas Neue', sans-serif;
            font-size: 0.95rem;
            letter-spacing: 0.1em;
            padding: 0.5rem 1rem;
            background: transparent;
            border: 1px solid var(--burnt-orange);
            color: var(--burnt-orange);
            cursor: pointer;
            border-radius: 4px;
            transition: background 0.2s, color 0.2s;
        }

        .client-download-all:hover {
            background: var(--burnt-orange);
            color: var(--off-white);
        }

        .client-gallery {
            display: none;
        }

        .client-gallery.is-visible {
            display: block;
        }

        .photo-item-client {
            position: relative;
        }

        .photo-item-client .download-btn {
            position: absolute;
            bottom: 0.5rem;
            right: 0.5rem;
            padding: 0.35rem 0.6rem;
            font-size: 0.75rem;
            letter-spacing: 0.05em;
            background: rgba(0,0,0,0.75);
            border: 1px solid rgba(196, 165, 123, 0.5);
            color: var(--desert-tan);
            text-decoration: none;
            border-radius: 4px;
            transition: background 0.2s, color 0.2s;
            z-index: 2;
        }

        .photo-item-client .download-btn:hover {
            background: var(--burnt-orange);
            color: var(--off-white);
            border-color: var(--burnt-orange);
        }

        @media (max-width: 900px) {
            .photo-grid {
                flex-wrap: wrap;
            }

            .photo-grid-col {
                flex: 1 1 calc(50% - 0.75rem);
                max-height: 60vh;
            }
        }

        @media (max-width: 768px) {
            nav {
                padding: 1rem 1.5rem;
            }

            main {
                padding: 6rem 1.5rem 3rem;
            }

            .photo-grid-col {
                flex: 1 1 calc(50% - 0.5rem);
                max-height: 65vh;
            }

            .photo-item {
                margin-bottom: 1rem;
            }
        }
    </style>
</head>
<body>
    <nav>
        <div class="nav-content">
            <a href="index.html" class="back-link">‚Üê Back Home</a>
            <div class="page-title">Bozzani Vision</div>
        </div>
    </nav>

    <main>
        <div class="section-header">
            <h1>Bozzani Vision</h1>
            <p>Surf, action sports, and live music photography. Capturing energy, movement, and raw moments.</p>
        </div>

        <div class="filter-bar">
            <button type="button" class="filter-btn is-active" data-filter="all">ALL</button>
            <button type="button" class="filter-btn" data-filter="surf">SURF</button>
            <button type="button" class="filter-btn" data-filter="music">MUSIC</button>
            <button type="button" class="filter-btn" data-filter="portraits">PORTRAITS</button>
            <button type="button" class="filter-btn" data-filter="client">CLIENT</button>
        </div>

        <div id="client-wrap" class="category-section">
            <div id="client-access">
                <div class="client-access">
                    <h2>Client gallery access</h2>
                    <label for="client-code">Access code</label>
                    <input type="password" id="client-code" placeholder="Enter your code" autocomplete="off">
                    <button type="button" class="client-submit" id="client-submit">View gallery</button>
                    <p class="client-error" id="client-error" role="alert"></p>
                </div>
            </div>
            <div id="client-gallery" class="client-gallery">
                <div class="client-gallery-header">
                    <h2 id="client-gallery-title"></h2>
                    <button type="button" class="client-download-all" id="client-download-all">Download All</button>
                </div>
                <div id="client-gallery-grid" class="photo-grid"></div>
            </div>
        </div>

        <div id="all-photos-wrap" class="category-section is-hidden">
            <div id="all-photos-grid" class="photo-grid"></div>
        </div>

        <section class="category-section category-section--sections" data-category="surf" aria-labelledby="surf-heading">
            <h2 id="surf-heading" class="category-heading">SURF</h2>
            <div class="photo-grid">
                <div class="photo-item" data-section="surf"><img loading="lazy" src="images/PHOTOGRAPHY/SURF/BAJA-75.jpg" alt="Surf Photography"></div>
                <div class="photo-item" data-section="surf"><img loading="lazy" src="images/PHOTOGRAPHY/SURF/Baja-4.jpg" alt="Surf Photography"></div>
                <div class="photo-item" data-section="surf"><img loading="lazy" src="images/PHOTOGRAPHY/SURF/Baja-7.jpg" alt="Surf Photography"></div>
                <div class="photo-item" data-section="surf"><img loading="lazy" src="images/PHOTOGRAPHY/SURF/Baja.jpg" alt="Surf Photography"></div>
                <div class="photo-item" data-section="surf"><img loading="lazy" src="images/PHOTOGRAPHY/SURF/elsal-2.jpg" alt="Surf Photography"></div>
                <div class="photo-item" data-section="surf"><img loading="lazy" src="images/PHOTOGRAPHY/SURF/elsal-13.jpg" alt="Surf Photography"></div>
                <div class="photo-item" data-section="surf"><img loading="lazy" src="images/PHOTOGRAPHY/SURF/elsal-14.jpg" alt="Surf Photography"></div>
                <div class="photo-item" data-section="surf"><img loading="lazy" src="images/PHOTOGRAPHY/SURF/elsal-34.jpg" alt="Surf Photography"></div>
                <div class="photo-item" data-section="surf"><img loading="lazy" src="images/PHOTOGRAPHY/SURF/elsal100.jpg" alt="Surf Photography"></div>
                <div class="photo-item" data-section="surf"><img loading="lazy" src="images/PHOTOGRAPHY/SURF/elsal100-1.jpg" alt="Surf Photography"></div>
                <div class="photo-item" data-section="surf"><img loading="lazy" src="images/PHOTOGRAPHY/SURF/elsal100-2.jpg" alt="Surf Photography"></div>
                <div class="photo-item" data-section="surf"><img loading="lazy" src="images/PHOTOGRAPHY/SURF/elsal100-4.jpg" alt="Surf Photography"></div>
                <div class="photo-item" data-section="surf"><img loading="lazy" src="images/PHOTOGRAPHY/SURF/FP11_3_25-52.jpg" alt="Surf Photography"></div>
                <div class="photo-item" data-section="surf"><img loading="lazy" src="images/PHOTOGRAPHY/SURF/FP11_3_25-60.jpg" alt="Surf Photography"></div>
                <div class="photo-item" data-section="surf"><img loading="lazy" src="images/PHOTOGRAPHY/SURF/FP100-5.jpg" alt="Surf Photography"></div>
                <div class="photo-item" data-section="surf"><img loading="lazy" src="images/PHOTOGRAPHY/SURF/FP100-6.jpg" alt="Surf Photography"></div>
                <div class="photo-item" data-section="surf"><img loading="lazy" src="images/PHOTOGRAPHY/SURF/FP100-7.jpg" alt="Surf Photography"></div>
                <div class="photo-item" data-section="surf"><img loading="lazy" src="images/PHOTOGRAPHY/SURF/IMG_2208.jpg" alt="Surf Photography"></div>
                <div class="photo-item" data-section="surf"><img loading="lazy" src="images/PHOTOGRAPHY/SURF/IMG_2666.jpg" alt="Surf Photography"></div>
                <div class="photo-item" data-section="surf"><img loading="lazy" src="images/PHOTOGRAPHY/SURF/IMG_3147.jpg" alt="Surf Photography"></div>
                <div class="photo-item" data-section="surf"><img loading="lazy" src="images/PHOTOGRAPHY/SURF/NIC-7.jpg" alt="Surf Photography"></div>
                <div class="photo-item" data-section="surf"><img loading="lazy" src="images/PHOTOGRAPHY/SURF/NIC-11.jpg" alt="Surf Photography"></div>
                <div class="photo-item" data-section="surf"><img loading="lazy" src="images/PHOTOGRAPHY/SURF/NIC-12.jpg" alt="Surf Photography"></div>
                <div class="photo-item" data-section="surf"><img loading="lazy" src="images/PHOTOGRAPHY/SURF/NIC-13.jpg" alt="Surf Photography"></div>
                <div class="photo-item" data-section="surf"><img loading="lazy" src="images/PHOTOGRAPHY/SURF/NICA-82.jpg" alt="Surf Photography"></div>
                <div class="photo-item" data-section="surf"><img loading="lazy" src="images/PHOTOGRAPHY/SURF/NICA-104.jpg" alt="Surf Photography"></div>
                <div class="photo-item" data-section="surf"><img loading="lazy" src="images/PHOTOGRAPHY/SURF/NICA-108.jpg" alt="Surf Photography"></div>
                <div class="photo-item" data-section="surf"><img loading="lazy" src="images/PHOTOGRAPHY/SURF/OB01_13_26-05.jpg" alt="Surf Photography"></div>
                <div class="photo-item" data-section="surf"><img loading="lazy" src="images/PHOTOGRAPHY/SURF/OB01_13_26-08.jpg" alt="Surf Photography"></div>
                <div class="photo-item" data-section="surf"><img loading="lazy" src="images/PHOTOGRAPHY/SURF/OB01_13_26-13.jpg" alt="Surf Photography"></div>
                <div class="photo-item" data-section="surf"><img loading="lazy" src="images/PHOTOGRAPHY/SURF/OB01_13_26-14.jpg" alt="Surf Photography"></div>
                <div class="photo-item" data-section="surf"><img loading="lazy" src="images/PHOTOGRAPHY/SURF/OB01_13_26-17.jpg" alt="Surf Photography"></div>
                <div class="photo-item" data-section="surf"><img loading="lazy" src="images/PHOTOGRAPHY/SURF/OB10_18_25.jpg" alt="Surf Photography"></div>
                <div class="photo-item" data-section="surf"><img loading="lazy" src="images/PHOTOGRAPHY/SURF/OB10_18_25-2.jpg" alt="Surf Photography"></div>
                <div class="photo-item" data-section="surf"><img loading="lazy" src="images/PHOTOGRAPHY/SURF/OB12_2_25-2.jpg" alt="Surf Photography"></div>
                <div class="photo-item" data-section="surf"><img loading="lazy" src="images/PHOTOGRAPHY/SURF/OB12_2_25-4.jpg" alt="Surf Photography"></div>
                <div class="photo-item" data-section="surf"><img loading="lazy" src="images/PHOTOGRAPHY/SURF/OB12_2_25-7.jpg" alt="Surf Photography"></div>
                <div class="photo-item" data-section="surf"><img loading="lazy" src="images/PHOTOGRAPHY/SURF/OB12_2_25-12.jpg" alt="Surf Photography"></div>
                <div class="photo-item" data-section="surf"><img loading="lazy" src="images/PHOTOGRAPHY/SURF/OB2_4_26-1.jpg" alt="Surf Photography"></div>
                <div class="photo-item" data-section="surf"><img loading="lazy" src="images/PHOTOGRAPHY/SURF/OB2_4_26-2.jpg" alt="Surf Photography"></div>
                <div class="photo-item" data-section="surf"><img loading="lazy" src="images/PHOTOGRAPHY/SURF/OB2_4_26-3.jpg" alt="Surf Photography"></div>
                <div class="photo-item" data-section="surf"><img loading="lazy" src="images/PHOTOGRAPHY/SURF/OB2_4_26-10.jpg" alt="Surf Photography"></div>
                <div class="photo-item" data-section="surf"><img loading="lazy" src="images/PHOTOGRAPHY/SURF/OB2_4_26-17.jpg" alt="Surf Photography"></div>
                <div class="photo-item" data-section="surf"><img loading="lazy" src="images/PHOTOGRAPHY/SURF/OB2_4_26-20.jpg" alt="Surf Photography"></div>
                <div class="photo-item" data-section="surf"><img loading="lazy" src="images/PHOTOGRAPHY/SURF/OB2_4_26-21.jpg" alt="Surf Photography"></div>
                <div class="photo-item" data-section="surf"><img loading="lazy" src="images/PHOTOGRAPHY/SURF/OB2_4_26-22.jpg" alt="Surf Photography"></div>
                <div class="photo-item" data-section="surf"><img loading="lazy" src="images/PHOTOGRAPHY/SURF/OB2_4_26-33.jpg" alt="Surf Photography"></div>
                <div class="photo-item" data-section="surf"><img loading="lazy" src="images/PHOTOGRAPHY/SURF/OB2_4_26-36.jpg" alt="Surf Photography"></div>
                <div class="photo-item" data-section="surf"><img loading="lazy" src="images/PHOTOGRAPHY/SURF/OB2_4_26-44.jpg" alt="Surf Photography"></div>
                <div class="photo-item" data-section="surf"><img loading="lazy" src="images/PHOTOGRAPHY/SURF/OB2_4_26-54.jpg" alt="Surf Photography"></div>
                <div class="photo-item" data-section="surf"><img loading="lazy" src="images/PHOTOGRAPHY/SURF/OB2_4_26-61.jpg" alt="Surf Photography"></div>
                <div class="photo-item" data-section="surf"><img loading="lazy" src="images/PHOTOGRAPHY/SURF/OB2_4_26-74.jpg" alt="Surf Photography"></div>
                <div class="photo-item" data-section="surf"><img loading="lazy" src="images/PHOTOGRAPHY/SURF/OB2_4_26-77.jpg" alt="Surf Photography"></div>
                <div class="photo-item" data-section="surf"><img loading="lazy" src="images/PHOTOGRAPHY/SURF/OB9_15_25-4.jpg" alt="Surf Photography"></div>
                <div class="photo-item" data-section="surf"><img loading="lazy" src="images/PHOTOGRAPHY/SURF/OB9_15_25-7.jpg" alt="Surf Photography"></div>
                <div class="photo-item" data-section="surf"><img loading="lazy" src="images/PHOTOGRAPHY/SURF/OBPRINT1.jpg" alt="Surf Photography"></div>
                <div class="photo-item" data-section="surf"><img loading="lazy" src="images/PHOTOGRAPHY/SURF/pieterOB-15.jpg" alt="Surf Photography"></div>
                <div class="photo-item" data-section="surf"><img loading="lazy" src="images/PHOTOGRAPHY/SURF/pieterOB-16.jpg" alt="Surf Photography"></div>
                <div class="photo-item" data-section="surf"><img loading="lazy" src="images/PHOTOGRAPHY/SURF/ThrowbackOB-2.jpg" alt="Surf Photography"></div>
                <div class="photo-item" data-section="surf"><img loading="lazy" src="images/PHOTOGRAPHY/SURF/ThrowbackOB-4.jpg" alt="Surf Photography"></div>
            </div>
        </section>

        <section class="category-section category-section--sections" data-category="music" aria-labelledby="music-heading">
            <h2 id="music-heading" class="category-heading">MUSIC</h2>
            <div class="photo-grid">
                <div class="photo-item" data-section="music"><img loading="lazy" src="images/PHOTOGRAPHY/MUSIC/Comatose_Guild-28.jpg" alt="Live Music"></div>
                <div class="photo-item" data-section="music"><img loading="lazy" src="images/PHOTOGRAPHY/MUSIC/Comatose_Guild-37.jpg" alt="Live Music"></div>
                <div class="photo-item" data-section="music"><img loading="lazy" src="images/PHOTOGRAPHY/MUSIC/Demarco'25-2.jpg" alt="Live Music"></div>
                <div class="photo-item" data-section="music"><img loading="lazy" src="images/PHOTOGRAPHY/MUSIC/Demarco'25-6.jpg" alt="Live Music"></div>
                <div class="photo-item" data-section="music"><img loading="lazy" src="images/PHOTOGRAPHY/MUSIC/Demarco'25-12.jpg" alt="Live Music"></div>
                <div class="photo-item" data-section="music"><img loading="lazy" src="images/PHOTOGRAPHY/MUSIC/Demarco'25-17.jpg" alt="Live Music"></div>
                <div class="photo-item" data-section="music"><img loading="lazy" src="images/PHOTOGRAPHY/MUSIC/Demarco'25-18.jpg" alt="Live Music"></div>
                <div class="photo-item" data-section="music"><img loading="lazy" src="images/PHOTOGRAPHY/MUSIC/Demarco'25-20.jpg" alt="Live Music"></div>
                <div class="photo-item" data-section="music"><img loading="lazy" src="images/PHOTOGRAPHY/MUSIC/Demarco'25-21.jpg" alt="Live Music"></div>
                <div class="photo-item" data-section="music"><img loading="lazy" src="images/PHOTOGRAPHY/MUSIC/Demarco_25-1.jpg" alt="Live Music"></div>
                <div class="photo-item" data-section="music"><img loading="lazy" src="images/PHOTOGRAPHY/MUSIC/Demarco_25-3.jpg" alt="Live Music"></div>
                <div class="photo-item" data-section="music"><img loading="lazy" src="images/PHOTOGRAPHY/MUSIC/Demarco_25-10.jpg" alt="Live Music"></div>
                <div class="photo-item" data-section="music"><img loading="lazy" src="images/PHOTOGRAPHY/MUSIC/Demarco_25-13.jpg" alt="Live Music"></div>
                <div class="photo-item" data-section="music"><img loading="lazy" src="images/PHOTOGRAPHY/MUSIC/Demarco_25-17.jpg" alt="Live Music"></div>
                <div class="photo-item" data-section="music"><img loading="lazy" src="images/PHOTOGRAPHY/MUSIC/Demarco_25-21.jpg" alt="Live Music"></div>
                <div class="photo-item" data-section="music"><img loading="lazy" src="images/PHOTOGRAPHY/MUSIC/Elovaters_Shoreline_25-03.jpg" alt="Live Music"></div>
                <div class="photo-item" data-section="music"><img loading="lazy" src="images/PHOTOGRAPHY/MUSIC/Elovaters_Shoreline_25-38.jpg" alt="Live Music"></div>
                <div class="photo-item" data-section="music"><img loading="lazy" src="images/PHOTOGRAPHY/MUSIC/Elovaters_Shoreline_25-61.jpg" alt="Live Music"></div>
                <div class="photo-item" data-section="music"><img loading="lazy" src="images/PHOTOGRAPHY/MUSIC/Elovaters_Shoreline_25-73.jpg" alt="Live Music"></div>
                <div class="photo-item" data-section="music"><img loading="lazy" src="images/PHOTOGRAPHY/MUSIC/Elovaters_Shoreline_25-76.jpg" alt="Live Music"></div>
                <div class="photo-item" data-section="music"><img loading="lazy" src="images/PHOTOGRAPHY/MUSIC/MDJ_Guild-37.jpg" alt="Live Music"></div>
                <div class="photo-item" data-section="music"><img loading="lazy" src="images/PHOTOGRAPHY/MUSIC/MDJ@Guild-2.jpg" alt="Live Music"></div>
                <div class="photo-item" data-section="music"><img loading="lazy" src="images/PHOTOGRAPHY/MUSIC/MDJ@Guild-3.jpg" alt="Live Music"></div>
                <div class="photo-item" data-section="music"><img loading="lazy" src="images/PHOTOGRAPHY/MUSIC/MDJ@Guild-7.jpg" alt="Live Music"></div>
                <div class="photo-item" data-section="music"><img loading="lazy" src="images/PHOTOGRAPHY/MUSIC/MDJ@Guild-20.jpg" alt="Live Music"></div>
                <div class="photo-item" data-section="music"><img loading="lazy" src="images/PHOTOGRAPHY/MUSIC/MDJ@Guild-39.jpg" alt="Live Music"></div>
                <div class="photo-item" data-section="music"><img loading="lazy" src="images/PHOTOGRAPHY/MUSIC/MDJ@Guild-55.jpg" alt="Live Music"></div>
                <div class="photo-item" data-section="music"><img loading="lazy" src="images/PHOTOGRAPHY/MUSIC/Pancho@thechapel-1.jpg" alt="Live Music"></div>
                <div class="photo-item" data-section="music"><img loading="lazy" src="images/PHOTOGRAPHY/MUSIC/Pancho@thechapel-15.jpg" alt="Live Music"></div>
                <div class="photo-item" data-section="music"><img loading="lazy" src="images/PHOTOGRAPHY/MUSIC/Pancho@thechapel-33.jpg" alt="Live Music"></div>
                <div class="photo-item" data-section="music"><img loading="lazy" src="images/PHOTOGRAPHY/MUSIC/Pepper-1.jpg" alt="Live Music"></div>
                <div class="photo-item" data-section="music"><img loading="lazy" src="images/PHOTOGRAPHY/MUSIC/Pepper-2.jpg" alt="Live Music"></div>
                <div class="photo-item" data-section="music"><img loading="lazy" src="images/PHOTOGRAPHY/MUSIC/Pepper.jpg" alt="Live Music"></div>
                <div class="photo-item" data-section="music"><img loading="lazy" src="images/PHOTOGRAPHY/MUSIC/Pepper_Shoreline_25-04.jpg" alt="Live Music"></div>
                <div class="photo-item" data-section="music"><img loading="lazy" src="images/PHOTOGRAPHY/MUSIC/Pepper_Shoreline_25-14.jpg" alt="Live Music"></div>
                <div class="photo-item" data-section="music"><img loading="lazy" src="images/PHOTOGRAPHY/MUSIC/Pepper_Shoreline_25-16.jpg" alt="Live Music"></div>
                <div class="photo-item" data-section="music"><img loading="lazy" src="images/PHOTOGRAPHY/MUSIC/Pepper_Shoreline_25-19.jpg" alt="Live Music"></div>
                <div class="photo-item" data-section="music"><img loading="lazy" src="images/PHOTOGRAPHY/MUSIC/Pepper_Shoreline_25-20.jpg" alt="Live Music"></div>
                <div class="photo-item" data-section="music"><img loading="lazy" src="images/PHOTOGRAPHY/MUSIC/Pepper_Shoreline_25-22.jpg" alt="Live Music"></div>
                <div class="photo-item" data-section="music"><img loading="lazy" src="images/PHOTOGRAPHY/MUSIC/Rebelution_Shoreline_25-01.jpg" alt="Live Music"></div>
                <div class="photo-item" data-section="music"><img loading="lazy" src="images/PHOTOGRAPHY/MUSIC/Rebelution_Shoreline_25-03.jpg" alt="Live Music"></div>
                <div class="photo-item" data-section="music"><img loading="lazy" src="images/PHOTOGRAPHY/MUSIC/Rebelution_Shoreline_25-07.jpg" alt="Live Music"></div>
                <div class="photo-item" data-section="music"><img loading="lazy" src="images/PHOTOGRAPHY/MUSIC/Rebelution_Shoreline_25-08.jpg" alt="Live Music"></div>
                <div class="photo-item" data-section="music"><img loading="lazy" src="images/PHOTOGRAPHY/MUSIC/Rebelution_Shoreline_25-20.jpg" alt="Live Music"></div>
                <div class="photo-item" data-section="music"><img loading="lazy" src="images/PHOTOGRAPHY/MUSIC/Rebelution_Shoreline_25-22.jpg" alt="Live Music"></div>
                <div class="photo-item" data-section="music"><img loading="lazy" src="images/PHOTOGRAPHY/MUSIC/STEPHSTRINGS-01.jpg" alt="Live Music"></div>
                <div class="photo-item" data-section="music"><img loading="lazy" src="images/PHOTOGRAPHY/MUSIC/STEPHSTRINGS-05.jpg" alt="Live Music"></div>
                <div class="photo-item" data-section="music"><img loading="lazy" src="images/PHOTOGRAPHY/MUSIC/STEPHSTRINGS-06.jpg" alt="Live Music"></div>
                <div class="photo-item" data-section="music"><img loading="lazy" src="images/PHOTOGRAPHY/MUSIC/STEPHSTRINGS-10.jpg" alt="Live Music"></div>
                <div class="photo-item" data-section="music"><img loading="lazy" src="images/PHOTOGRAPHY/MUSIC/STEPHSTRINGS-15.jpg" alt="Live Music"></div>
                <div class="photo-item" data-section="music"><img loading="lazy" src="images/PHOTOGRAPHY/MUSIC/STEPHSTRINGS-17.jpg" alt="Live Music"></div>
                <div class="photo-item" data-section="music"><img loading="lazy" src="images/PHOTOGRAPHY/MUSIC/STEPHSTRINGS-21.jpg" alt="Live Music"></div>
                <div class="photo-item" data-section="music"><img loading="lazy" src="images/PHOTOGRAPHY/MUSIC/STEPHSTRINGS-26.jpg" alt="Live Music"></div>
                <div class="photo-item" data-section="music"><img loading="lazy" src="images/PHOTOGRAPHY/MUSIC/STEPHSTRINGS-29.jpg" alt="Live Music"></div>
                <div class="photo-item" data-section="music"><img loading="lazy" src="images/PHOTOGRAPHY/MUSIC/STEPHSTRINGS-30.jpg" alt="Live Music"></div>
                <div class="photo-item" data-section="music"><img loading="lazy" src="images/PHOTOGRAPHY/MUSIC/SURFERGIRL@CORNERSTONE10_29_25-03.jpg" alt="Live Music"></div>
                <div class="photo-item" data-section="music"><img loading="lazy" src="images/PHOTOGRAPHY/MUSIC/SURFERGIRL@CORNERSTONE10_29_25-04.jpg" alt="Live Music"></div>
                <div class="photo-item" data-section="music"><img loading="lazy" src="images/PHOTOGRAPHY/MUSIC/SURFERGIRL@CORNERSTONE10_29_25-10.jpg" alt="Live Music"></div>
                <div class="photo-item" data-section="music"><img loading="lazy" src="images/PHOTOGRAPHY/MUSIC/SURFERGIRL@CORNERSTONE10_29_25-14.jpg" alt="Live Music"></div>
                <div class="photo-item" data-section="music"><img loading="lazy" src="images/PHOTOGRAPHY/MUSIC/SURFERGIRL@CORNERSTONE10_29_25-15.jpg" alt="Live Music"></div>
                <div class="photo-item" data-section="music"><img loading="lazy" src="images/PHOTOGRAPHY/MUSIC/SURFERGIRL@CORNERSTONE10_29_25-20.jpg" alt="Live Music"></div>
                <div class="photo-item" data-section="music"><img loading="lazy" src="images/PHOTOGRAPHY/MUSIC/SURFERGIRL@CORNERSTONE10_29_25-23.jpg" alt="Live Music"></div>
                <div class="photo-item" data-section="music"><img loading="lazy" src="images/PHOTOGRAPHY/MUSIC/SURFERGIRL@CORNERSTONE10_29_25-24.jpg" alt="Live Music"></div>
                <div class="photo-item" data-section="music"><img loading="lazy" src="images/PHOTOGRAPHY/MUSIC/SURFERGIRL@CORNERSTONE10_29_25-27.jpg" alt="Live Music"></div>
                <div class="photo-item" data-section="music"><img loading="lazy" src="images/PHOTOGRAPHY/MUSIC/SURFERGIRL@CORNERSTONE10_29_25-28.jpg" alt="Live Music"></div>
                <div class="photo-item" data-section="music"><img loading="lazy" src="images/PHOTOGRAPHY/MUSIC/SURFERGIRL@CORNERSTONE10_29_25-32.jpg" alt="Live Music"></div>
                <div class="photo-item" data-section="music"><img loading="lazy" src="images/PHOTOGRAPHY/MUSIC/SURFERGIRL@CORNERSTONE10_29_25-38.jpg" alt="Live Music"></div>
                <div class="photo-item" data-section="music"><img loading="lazy" src="images/PHOTOGRAPHY/MUSIC/SURFERGIRL@CORNERSTONE10_29_25-41.jpg" alt="Live Music"></div>
                <div class="photo-item" data-section="music"><img loading="lazy" src="images/PHOTOGRAPHY/MUSIC/SURFERGIRL@CORNERSTONE10_29_25-42.jpg" alt="Live Music"></div>
                <div class="photo-item" data-section="music"><img loading="lazy" src="images/PHOTOGRAPHY/MUSIC/SURFERGIRL@CORNERSTONE10_29_25-45.jpg" alt="Live Music"></div>
                <div class="photo-item" data-section="music"><img loading="lazy" src="images/PHOTOGRAPHY/MUSIC/comatose_guild-21.jpg" alt="Live Music"></div>
            </div>
        </section>

        <section class="category-section category-section--sections" data-category="portraits" aria-labelledby="portraits-heading">
            <h2 id="portraits-heading" class="category-heading">PORTRAITS</h2>
            <div class="photo-grid">
                <div class="photo-item" data-section="portraits"><img loading="lazy" src="images/PHOTOGRAPHY/PORTRAITS/Deso'25-11.jpg" alt="Portraits"></div>
                <div class="photo-item" data-section="portraits"><img loading="lazy" src="images/PHOTOGRAPHY/PORTRAITS/Elovaters_Shoreline_25-68.jpg" alt="Portraits"></div>
                <div class="photo-item" data-section="portraits"><img loading="lazy" src="images/PHOTOGRAPHY/PORTRAITS/Elovaters_Shoreline_25-70.jpg" alt="Portraits"></div>
                <div class="photo-item" data-section="portraits"><img loading="lazy" src="images/PHOTOGRAPHY/PORTRAITS/elsal100-3.jpg" alt="Portraits"></div>
                <div class="photo-item" data-section="portraits"><img loading="lazy" src="images/PHOTOGRAPHY/PORTRAITS/elsal-9.jpg" alt="Portraits"></div>
                <div class="photo-item" data-section="portraits"><img loading="lazy" src="images/PHOTOGRAPHY/PORTRAITS/elsal-12.jpg" alt="Portraits"></div>
                <div class="photo-item" data-section="portraits"><img loading="lazy" src="images/PHOTOGRAPHY/PORTRAITS/HARDLY.jpg" alt="Portraits"></div>
                <div class="photo-item" data-section="portraits"><img loading="lazy" src="images/PHOTOGRAPHY/PORTRAITS/Hardlystrictly'25.jpg" alt="Portraits"></div>
                <div class="photo-item" data-section="portraits"><img loading="lazy" src="images/PHOTOGRAPHY/PORTRAITS/Hardlystrictly'25-16.jpg" alt="Portraits"></div>
                <div class="photo-item" data-section="portraits"><img loading="lazy" src="images/PHOTOGRAPHY/PORTRAITS/MDJ@Guild-21.jpg" alt="Portraits"></div>
                <div class="photo-item" data-section="portraits"><img loading="lazy" src="images/PHOTOGRAPHY/PORTRAITS/MDJ@Guild-22.jpg" alt="Portraits"></div>
                <div class="photo-item" data-section="portraits"><img loading="lazy" src="images/PHOTOGRAPHY/PORTRAITS/MDJ@Guild-23.jpg" alt="Portraits"></div>
                <div class="photo-item" data-section="portraits"><img loading="lazy" src="images/PHOTOGRAPHY/PORTRAITS/MEZ.jpg" alt="Portraits"></div>
                <div class="photo-item" data-section="portraits"><img loading="lazy" src="images/PHOTOGRAPHY/PORTRAITS/NIC.jpg" alt="Portraits"></div>
                <div class="photo-item" data-section="portraits"><img loading="lazy" src="images/PHOTOGRAPHY/PORTRAITS/NIC-1.jpg" alt="Portraits"></div>
                <div class="photo-item" data-section="portraits"><img loading="lazy" src="images/PHOTOGRAPHY/PORTRAITS/NIC-2.jpg" alt="Portraits"></div>
                <div class="photo-item" data-section="portraits"><img loading="lazy" src="images/PHOTOGRAPHY/PORTRAITS/NIC-3.jpg" alt="Portraits"></div>
                <div class="photo-item" data-section="portraits"><img loading="lazy" src="images/PHOTOGRAPHY/PORTRAITS/NIC-4.jpg" alt="Portraits"></div>
                <div class="photo-item" data-section="portraits"><img loading="lazy" src="images/PHOTOGRAPHY/PORTRAITS/NIC-5.jpg" alt="Portraits"></div>
                <div class="photo-item" data-section="portraits"><img loading="lazy" src="images/PHOTOGRAPHY/PORTRAITS/NIC-6.jpg" alt="Portraits"></div>
                <div class="photo-item" data-section="portraits"><img loading="lazy" src="images/PHOTOGRAPHY/PORTRAITS/NIC-8.jpg" alt="Portraits"></div>
                <div class="photo-item" data-section="portraits"><img loading="lazy" src="images/PHOTOGRAPHY/PORTRAITS/NIC-9.jpg" alt="Portraits"></div>
                <div class="photo-item" data-section="portraits"><img loading="lazy" src="images/PHOTOGRAPHY/PORTRAITS/NIC-10.jpg" alt="Portraits"></div>
                <div class="photo-item" data-section="portraits"><img loading="lazy" src="images/PHOTOGRAPHY/PORTRAITS/OB01_30_26-05.jpg" alt="Portraits"></div>
                <div class="photo-item" data-section="portraits"><img loading="lazy" src="images/PHOTOGRAPHY/PORTRAITS/OB9_15_25-1.jpg" alt="Portraits"></div>
                <div class="photo-item" data-section="portraits"><img loading="lazy" src="images/PHOTOGRAPHY/PORTRAITS/OB9_24_25-5.jpg" alt="Portraits"></div>
                <div class="photo-item" data-section="portraits"><img loading="lazy" src="images/PHOTOGRAPHY/PORTRAITS/OB10_18_25-08.jpg" alt="Portraits"></div>
                <div class="photo-item" data-section="portraits"><img loading="lazy" src="images/PHOTOGRAPHY/PORTRAITS/OB12_2_25-8.jpg" alt="Portraits"></div>
                <div class="photo-item" data-section="portraits"><img loading="lazy" src="images/PHOTOGRAPHY/PORTRAITS/OB12_2_25-10.jpg" alt="Portraits"></div>
                <div class="photo-item" data-section="portraits"><img loading="lazy" src="images/PHOTOGRAPHY/PORTRAITS/SHASTA-1.jpg" alt="Portraits"></div>
                <div class="photo-item" data-section="portraits"><img loading="lazy" src="images/PHOTOGRAPHY/PORTRAITS/SHASTA-2.jpg" alt="Portraits"></div>
                <div class="photo-item" data-section="portraits"><img loading="lazy" src="images/PHOTOGRAPHY/PORTRAITS/SHASTA-3.jpg" alt="Portraits"></div>
                <div class="photo-item" data-section="portraits"><img loading="lazy" src="images/PHOTOGRAPHY/PORTRAITS/SHASTA-4.jpg" alt="Portraits"></div>
                <div class="photo-item" data-section="portraits"><img loading="lazy" src="images/PHOTOGRAPHY/PORTRAITS/Shasta'25-1.jpg" alt="Portraits"></div>
                <div class="photo-item" data-section="portraits"><img loading="lazy" src="images/PHOTOGRAPHY/PORTRAITS/Shasta'25-7.jpg" alt="Portraits"></div>
                <div class="photo-item" data-section="portraits"><img loading="lazy" src="images/PHOTOGRAPHY/PORTRAITS/Shasta'25-9.jpg" alt="Portraits"></div>
                <div class="photo-item" data-section="portraits"><img loading="lazy" src="images/PHOTOGRAPHY/PORTRAITS/Shasta'25-14.jpg" alt="Portraits"></div>
                <div class="photo-item" data-section="portraits"><img loading="lazy" src="images/PHOTOGRAPHY/PORTRAITS/STEPHSTRINGS-31.jpg" alt="Portraits"></div>
            </div>
        </section>
    </main>

    <div class="lightbox" id="lightbox" aria-hidden="true">
        <div class="lightbox-backdrop" id="lightbox-backdrop"></div>
        <button type="button" class="lightbox-close" id="lightbox-close" aria-label="Close">&times;</button>
        <button type="button" class="lightbox-btn prev" id="lightbox-prev" aria-label="Previous">&larr;</button>
        <div class="lightbox-content">
            <img src="" alt="" id="lightbox-img">
        </div>
        <button type="button" class="lightbox-btn next" id="lightbox-next" aria-label="Next">&rarr;</button>
    </div>

    <script>
        (function() {
            var filterBtns = document.querySelectorAll('.filter-btn');
            var sectionSections = document.querySelectorAll('.category-section--sections');
            var allPhotosWrap = document.getElementById('all-photos-wrap');
            var allPhotosGrid = document.getElementById('all-photos-grid');

            function ensureAndDistribute(grid, optionalItems) {
                var items = optionalItems != null ? optionalItems : Array.from(grid.querySelectorAll('.photo-item'));
                grid.innerHTML = '';
                var col1 = document.createElement('div');
                col1.className = 'photo-grid-col';
                var col2 = document.createElement('div');
                col2.className = 'photo-grid-col';
                var col3 = document.createElement('div');
                col3.className = 'photo-grid-col';
                items.forEach(function(item, i) {
                    var col = i % 3 === 0 ? col1 : (i % 3 === 1 ? col2 : col3);
                    col.appendChild(item);
                });
                grid.appendChild(col1);
                grid.appendChild(col2);
                grid.appendChild(col3);
            }

            function showAllView() {
                var sectionGrids = document.querySelectorAll('.category-section--sections .photo-grid');
                var items = [];
                sectionGrids.forEach(function(grid) {
                    grid.querySelectorAll('.photo-grid-col .photo-item').forEach(function(el) {
                        items.push(el);
                    });
                });
                ensureAndDistribute(allPhotosGrid, items);
                sectionSections.forEach(function(s) { s.classList.add('is-hidden'); });
                allPhotosWrap.classList.remove('is-hidden');
            }

            function restoreToSections() {
                var items = [];
                allPhotosGrid.querySelectorAll('.photo-grid-col .photo-item').forEach(function(el) {
                    items.push(el);
                });
                items.forEach(function(item) {
                    var sectionId = item.getAttribute('data-section');
                    var section = document.querySelector('.category-section--sections[data-category="' + sectionId + '"]');
                    if (section) {
                        var grid = section.querySelector('.photo-grid');
                        var firstCol = grid.querySelector('.photo-grid-col');
                        if (firstCol) firstCol.appendChild(item);
                        else grid.appendChild(item);
                    }
                });
                sectionSections.forEach(function(s) {
                    var grid = s.querySelector('.photo-grid');
                    if (grid) ensureAndDistribute(grid);
                });
                allPhotosWrap.classList.add('is-hidden');
            }

            function applyCategoryFilter(filter) {
                sectionSections.forEach(function(section) {
                    var cat = section.getAttribute('data-category');
                    if (cat === filter) {
                        section.classList.remove('is-hidden');
                    } else {
                        section.classList.add('is-hidden');
                    }
                });
            }

            var clientWrap = document.getElementById('client-wrap');
            var clientAccess = document.getElementById('client-access');
            var clientGallery = document.getElementById('client-gallery');
            var clientGalleryGrid = document.getElementById('client-gallery-grid');
            var clientCodeInput = document.getElementById('client-code');
            var clientSubmitBtn = document.getElementById('client-submit');
            var clientError = document.getElementById('client-error');
            var clientGalleryTitle = document.getElementById('client-gallery-title');
            var clientDownloadAllBtn = document.getElementById('client-download-all');

            function showClientView() {
                allPhotosWrap.classList.add('is-hidden');
                sectionSections.forEach(function(s) { s.classList.add('is-hidden'); });
                clientWrap.classList.add('is-visible');
                clientAccess.style.display = 'block';
                clientGallery.classList.remove('is-visible');
                clientError.classList.remove('is-visible');
                clientError.textContent = '';
                clientCodeInput.value = '';
            }

            function hideClientView() {
                clientWrap.classList.remove('is-visible');
            }

            function showClientGallery(clientKey, clientData, photos) {
                clientAccess.style.display = 'none';
                clientGalleryTitle.textContent = clientData.displayName || clientKey.replace(/-/g, ' ');
                clientGalleryGrid.innerHTML = '';
                var basePath = 'images/PHOTOGRAPHY/CLIENT/' + clientKey + '/';
                photos = photos || [];
                photos.forEach(function(filename) {
                    var src = basePath + encodeURIComponent(filename);
                    var item = document.createElement('div');
                    item.className = 'photo-item photo-item-client';
                    item.setAttribute('data-section', 'client');
                    var img = document.createElement('img');
                    img.loading = 'lazy';
                    img.src = src;
                    img.alt = 'Client photo';
                    var downloadLink = document.createElement('a');
                    downloadLink.href = src;
                    downloadLink.download = filename;
                    downloadLink.className = 'download-btn';
                    downloadLink.textContent = 'Download';
                    item.appendChild(img);
                    item.appendChild(downloadLink);
                    clientGalleryGrid.appendChild(item);
                });
                ensureAndDistribute(clientGalleryGrid);
                clientGallery.classList.add('is-visible');
                if (clientDownloadAllBtn) {
                    clientDownloadAllBtn.onclick = function() {
                        photos.forEach(function(filename) {
                            var a = document.createElement('a');
                            a.href = basePath + encodeURIComponent(filename);
                            a.download = filename;
                            a.style.display = 'none';
                            document.body.appendChild(a);
                            a.click();
                            document.body.removeChild(a);
                        });
                    };
                }
                var clientImgs = clientGalleryGrid.querySelectorAll('.photo-item img');
                clientImgs.forEach(function(img, idx) {
                    img.closest('.photo-item').addEventListener('click', function(e) {
                        if (e.target.tagName === 'A') return;
                        e.preventDefault();
                        var visible = Array.from(clientGalleryGrid.querySelectorAll('.photo-item img'));
                        var i = visible.indexOf(img);
                        if (i !== -1) openLightboxWith(visible, i);
                    });
                });
            }

            function openLightboxWith(imgs, index) {
                visibleImages = imgs;
                currentIndex = index;
                lightboxImg.src = visibleImages[index].src;
                lightboxImg.alt = visibleImages[index].alt;
                lightbox.classList.add('is-open');
                lightbox.setAttribute('aria-hidden', 'false');
                document.body.style.overflow = 'hidden';
            }

            function handleClientSubmit() {
                var code = (clientCodeInput.value || '').trim();
                clientError.classList.remove('is-visible');
                clientError.textContent = '';
                if (!code) {
                    clientError.textContent = 'Please enter your access code.';
                    clientError.classList.add('is-visible');
                    return;
                }
                clientSubmitBtn.disabled = true;
                fetch('client-config.json')
                    .then(function(r) { return r.json(); })
                    .then(function(config) {
                        var clients = config.clients || {};
                        var today = new Date().toISOString().slice(0, 10);
                        var found = null;
                        var clientKey = null;
                        for (var k in clients) {
                            if (clients[k].accessCode === code) {
                                found = clients[k];
                                clientKey = k;
                                break;
                            }
                        }
                        if (!found) {
                            clientError.textContent = 'Invalid access code.';
                            clientError.classList.add('is-visible');
                            clientSubmitBtn.disabled = false;
                            return;
                        }
                        var expiresAt = (found.expiresAt || '').toString().slice(0, 10);
                        if (expiresAt && today > expiresAt) {
                            clientError.textContent = 'Access expired.';
                            clientError.classList.add('is-visible');
                            clientSubmitBtn.disabled = false;
                            return;
                        }
                        return fetch('client-manifests.json')
                            .then(function(r) { return r.json(); })
                            .then(function(manifests) {
                                var photos = (manifests && manifests[clientKey]) || [];
                                showClientGallery(clientKey, found, photos);
                            })
                            .catch(function() {
                                showClientGallery(clientKey, found, []);
                            })
                            .then(function() {
                                clientSubmitBtn.disabled = false;
                            });
                    })
                    .catch(function() {
                        clientError.textContent = 'Unable to load gallery. Please try again.';
                        clientError.classList.add('is-visible');
                        clientSubmitBtn.disabled = false;
                    });
            }

            if (clientCodeInput) clientCodeInput.addEventListener('keydown', function(e) {
                if (e.key === 'Enter') handleClientSubmit();
            });
            if (clientSubmitBtn) clientSubmitBtn.addEventListener('click', handleClientSubmit);

            filterBtns.forEach(function(btn) {
                btn.addEventListener('click', function() {
                    var filter = this.getAttribute('data-filter');
                    filterBtns.forEach(function(b) { b.classList.remove('is-active'); });
                    this.classList.add('is-active');
                    if (filter === 'client') {
                        restoreToSections();
                        showClientView();
                    } else {
                        hideClientView();
                        if (filter === 'all') {
                            restoreToSections();
                            showAllView();
                        } else {
                            restoreToSections();
                            applyCategoryFilter(filter);
                        }
                    }
                });
            });

            document.querySelectorAll('.photo-grid').forEach(function(grid) {
                ensureAndDistribute(grid);
            });
            showAllView();

            (function initSkeletons() {
                var loadingLogoUrl = 'images/loading-logo.png';
                document.querySelectorAll('.photo-item').forEach(function(item) {
                    var img = item.querySelector('img');
                    if (!img) return;
                    var skel = document.createElement('div');
                    skel.className = 'photo-item-skeleton';
                    skel.setAttribute('aria-hidden', 'true');
                    var logoImg = document.createElement('img');
                    logoImg.src = loadingLogoUrl;
                    logoImg.alt = '';
                    logoImg.setAttribute('aria-hidden', 'true');
                    skel.appendChild(logoImg);
                    img.parentNode.insertBefore(skel, img);
                    function markLoaded() {
                        item.classList.add('is-loaded');
                    }
                    if (img.complete && img.naturalWidth) {
                        markLoaded();
                    } else {
                        img.addEventListener('load', markLoaded);
                    }
                });
            })();

            var lightbox = document.getElementById('lightbox');
            var lightboxImg = document.getElementById('lightbox-img');
            var images = Array.from(document.querySelectorAll('.photo-item > img'));
            var visibleImages = [];
            var currentIndex = 0;

            function getVisibleImages() {
                return images.filter(function(im) {
                    var section = im.closest('.category-section');
                    return !section || !section.classList.contains('is-hidden');
                });
            }

            function openLightbox(index) {
                visibleImages = getVisibleImages();
                currentIndex = index;
                lightboxImg.src = visibleImages[index].src;
                lightboxImg.alt = visibleImages[index].alt;
                lightbox.classList.add('is-open');
                lightbox.setAttribute('aria-hidden', 'false');
                document.body.style.overflow = 'hidden';
            }

            function closeLightbox() {
                lightbox.classList.remove('is-open');
                lightbox.setAttribute('aria-hidden', 'true');
                document.body.style.overflow = '';
            }

            function goToIndex(index) {
                if (visibleImages.length === 0) return;
                var preload = new Image();
                preload.onload = function() {
                    currentIndex = index;
                    lightboxImg.src = visibleImages[currentIndex].src;
                    lightboxImg.alt = visibleImages[currentIndex].alt;
                };
                preload.src = visibleImages[index].src;
            }

            function showNext() {
                if (visibleImages.length === 0) return;
                goToIndex((currentIndex + 1) % visibleImages.length);
            }

            function showPrev() {
                if (visibleImages.length === 0) return;
                goToIndex((currentIndex - 1 + visibleImages.length) % visibleImages.length);
            }

            images.forEach(function(img, i) {
                img.closest('.photo-item').addEventListener('click', function(e) {
                    e.preventDefault();
                    var visible = getVisibleImages();
                    var idx = visible.indexOf(img);
                    if (idx === -1) return;
                    openLightbox(idx);
                });
            });

            document.getElementById('lightbox-backdrop').addEventListener('click', closeLightbox);
            document.getElementById('lightbox-close').addEventListener('click', closeLightbox);
            document.getElementById('lightbox-next').addEventListener('click', function(e) { e.stopPropagation(); showNext(); });
            document.getElementById('lightbox-prev').addEventListener('click', function(e) { e.stopPropagation(); showPrev(); });

            document.addEventListener('keydown', function(e) {
                if (!lightbox.classList.contains('is-open')) return;
                if (e.key === 'Escape') closeLightbox();
                if (e.key === 'ArrowRight') showNext();
                if (e.key === 'ArrowLeft') showPrev();
            });

            function setupDualScroll() {
                document.addEventListener('wheel', function(e) {
                    var grids = document.querySelectorAll('.photo-grid');
                    var main = document.querySelector('main');
                    var mainRect = main ? main.getBoundingClientRect() : { left: 0, right: 1e6, top: 0, bottom: 1e6 };
                    for (var g = 0; g < grids.length; g++) {
                        var grid = grids[g];
                        if (grid.offsetParent === null) continue;
                        var cols = grid.querySelectorAll('.photo-grid-col');
                        if (cols.length !== 3) continue;
                        var gridRect = grid.getBoundingClientRect();
                        var inGridY = e.clientY >= gridRect.top && e.clientY <= gridRect.bottom;
                        var inGridX = e.clientX >= gridRect.left && e.clientX <= gridRect.right;
                        var inColumn = false;
                        for (var i = 0; i < cols.length; i++) {
                            var cr = cols[i].getBoundingClientRect();
                            if (e.clientX >= cr.left && e.clientX <= cr.right) {
                                inColumn = true;
                                break;
                            }
                        }
                        if (inColumn) return;
                        var inMargin = inGridY && (e.clientX < gridRect.left || e.clientX > gridRect.right) &&
                            e.clientX >= mainRect.left && e.clientX <= mainRect.right;
                        if ((inGridX && !inColumn) || inMargin) {
                            e.preventDefault();
                            cols.forEach(function(c) { c.scrollTop += e.deltaY; });
                            return;
                        }
                    }
                }, { passive: false, capture: true });
            }
            setupDualScroll();
        })();
    </script>
</body>
</html>
